## 目的
- サンプル統計を「片山建設工業」の実データへ置換し、ホーム画面（統計・サービス・会社情報・CTA）を一貫して最新情報に調整する。

## 現状（把握済み）
- ホーム: `index.html`。統計は `.stats-container` に表示。
- 取得: `assets/js/supabase-integration.js` → `api/supabase-stats.php` → `lib/SupabaseClient.php` → `company_stats`。
- 管理UI: `admin/company/stats/*` で CRUD 済み。その他 `site_settings`、`company_services`、`works/testimonials/news` も API 経由で読み込み。

## 取り込む実データ
- 名刺（OCR反映予定）
  - 会社名: 片山建設工業
  - 代表者: 片山 秀樹
  - 住所: 〒520-2264 滋賀県大津市大石東6丁目6-28
  - TEL: 090-5650-1106 / FAX: 077-511-9983
  - E-mail: kkensetu1106@outlook.jp
  - 登録番号: T5810 5497 77522
  - 業務領域: 不動産コンサル・仲介／リフォーム一式／建造物解体請負／管理業・草刈／内装解体・土工・ハツリ／ゴミ処理・運搬
- PDF `d:\Trae\katayama-website\創業計画書 .pdf` から抽出
  - 創業年／設立年月、従業員計画、売上・案件計画、主要サービス、許認可・資格など（表記の有無に応じて抽出）。

## フィールドマッピング（更新対象）
- `site_settings`
  - `company_name`、`representative_name`、`address`、`tel`、`fax`、`email`、`registration_number`、`qr_code_url`（任意）
- `company_services`
  - カテゴリと説明を名刺の業務領域に合わせて登録（並び順は `sort_order`）。
- `company_stats`
  - 例: `事業実績年数`（PDFの創業年→現在年で算出、単位: 年）
  - 例: `施工実績件数`（PDFの計画や既存データ、または `works` 公開件数で自動集計、単位: 件）
  - 例: `従業員数`（PDF/現況、単位: 人）
  - 例: `顧客満足度`（あれば、単位: %）
  - 必要に応じて `description`/`icon`/`sort_order`/`status=active` を設定。

## 実装変更点（最小）
1. DBレコード更新
   - 管理画面で `site_settings`・`company_services`・`company_stats` を実データへ置換、`sort_order` 調整。
   - 必要に応じ `works` 件数連動の自動集計版へ切替（統計項目を「固定値」→「集計」へ切替可能な拡張を想定）。
2. APIは現行維持
   - `api/supabase-*.php` はそのまま。並び順・`status=active` の整合性のみ確認。
3. フロント調整
   - 統計カードの表示体裁を微調整（単位位置・アイコン対応）。
   - サービスセクションを `company_services` に完全同期（カード見出し、説明）。
   - 会社情報/CTAセクションを `site_settings` から動的表示（住所・TEL・FAX・メール・登録番号・QR）。

## 検証
- ローカル起動中のサーバでホーム表示を確認。
- 統計値・サービス・会社情報の反映、ソート順、レスポンシブ、AOSアニメの崩れを目視確認。
- Fallback（PHP未実行時の直接 REST）でも正常取得を確認。

## セキュリティ/運用
- 機微情報は `service_role` を用いる更新操作のみで扱い、公開 API 応答には含めない。
- 連絡先のスパム対策（メールの `mailto:`、電話リンクは必要に応じ Obfuscation）。

## ロールバック
- 変更前のサンプルレコードは `status=draft` へ退避 or エクスポートして復元可能に。

## 次アクション（承認後即対応）
1. PDFを解析し数値/年月を抽出、`site_settings`/`company_services`/`company_stats` を更新。
2. ホームの表示体裁（統計カード・サービスカード・会社情報/CTA）を微調整。
3. 動作確認して差分を提示します。