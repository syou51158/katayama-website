## 目的
- 非ITユーザーでも迷わず操作できる、直感的で説明的な管理UIを実現
- よく使う作業に絞ったシンプルな導線＋必要時は詳細を展開する“段階的開示”
- 失敗しない作成フロー（ウィザード／自動保存／プレビュー）と、安心感のあるエラーハンドリング

## 現状の把握
- ダッシュボードは Tailwind CDN を用いたPHPテンプレートで構成（admin/dashboard.php:55-74）
- 統計カード・管理メニュー・最近の更新・クイック操作・システム状態（admin/dashboard.php:112-331）
- 管理ページ群：ニュース／施工実績／代表者／設定（admin/pages/*）
- データ取得は Supabase REST を `lib/SupabaseClient.php` 経由で実装

## UX方針
- 言葉をやさしく：専門用語は避け、ボタンは「お知らせを作る」「公開する」など具体文言
- 1画面1目的：作成や編集はウィザードで段階的に（入力→画像→公開設定→確認→公開）
- 常時ガイド表示：各入力の上に“短い説明行”＋必要時には「詳しく」トグルで詳細
- 失敗しない仕組み：自動下書き保存／復帰、プレビュー確認、公開時の最終チェック
- 大きいボタン・大きい文字・十分なコントラスト・キーボード操作対応

## 情報設計
- ホーム（ダッシュボード）
  - やることリスト：下書きあり／画像未設定／今月公開予定などの「次の一手」を提示
  - すぐ作る：お知らせ／施工実績／代表者の大ボタン（ウィザード直行）
  - 最近の更新：タイトル＋公開状態のみの簡潔表示、クリックで編集へ
  - 接続・権限インジケータ：常時ヘッダー右にステータスピル（オンライン／オフライン、画像アップロード可否）
- コンテンツ作成ウィザード
  - ステップ1「タイトル・本文」：短い説明、残り文字数、必須項目ガイド
  - ステップ2「画像」：ドラッグ＆ドロップ／進捗表示／サイズガイド
  - ステップ3「公開設定」：カテゴリ・公開日・公開／下書き
  - ステップ4「確認」：要約カード表示→公開
- 設定
  - サイト名・連絡先などは見出し付きカードで1項目ずつ、説明文あり
  - 危険操作（初期化など）は最下段で二重確認

## 画面別改善（主な変更）
- ダッシュボード（admin/dashboard.php）
  - 「クイック操作」を“作成ウィザードへ”の大ボタンに統合
  - 「やることリスト」を追加：未完了タスクのカード（枚数とショートカット）
  - システム状態をヘッダー右の常時インジケータ＋詳細モーダルに分離
- お知らせ管理（admin/pages/supabase-news.php）
  - 一覧：大きめ行、状態バッジ、編集・公開・削除は明確なラベル
  - 作成：ウィザード導線（別ページ／同ページステッパー）＋自動下書き保存
  - プレビュー：内容・画像・公開日をまとめて確認
- 施工実績管理（admin/pages/supabase-works.php）
  - ギャラリー画像アップロードのドラッグ＆ドロップ対応、進捗バー、成功・失敗の明示
  - カテゴリ選択はプリセット＋説明
- 代表者管理（admin/pages/supabase-representatives.php）
  - 単純フォーム＋画像アップロード、公開／非公開トグルを大きく
- システム設定（admin/pages/settings.php）
  - 設定項目ごとにカード化、項目上に短い説明、保存時の成功トースト

## コンポーネント設計
- 共通レイアウト（ヘッダー／サイドナビ／フッター）を includes に集約
- UI部品：
  - ステッパー（現在位置の強調、戻る／次へボタン）
  - フォームカード（見出し、短い説明、必須ラベル）
  - 画像アップローダ（D&D、進捗、結果通知）
  - インジケータ（オンライン・オフライン／サービスロールキー）
  - 成功／エラー トースト

## 実装方針（技術）
- スタイル：既存の Tailwind CDN を継続使用、共通ユーティリティクラスを用意
- PHPテンプレート：共通ヘッダー・フッターの切り出し（`admin/includes/*`）
- JS使用範囲：
  - ウィザードのステップ管理・自動下書き保存（localStorage＋サーバ下書きAPI）
  - 画像アップロード進捗（`SupabaseStorage` 経由／オフライン時はローカル保存）
  - 成功・失敗のトースト表示、確認ダイアログ
- API／サーバ
  - 既存 CRUD API を再利用（admin/api/*, api/*）
  - 下書き保存用エンドポイントの拡張（ニュース・実績）
  - 画像アップロードはサービスロールキーがある場合は Supabase Storage、ない場合はローカルフォールバック
- アクセシビリティ
  - フォーカス状態／キーボード操作／aria属性の設定
  - ボタンサイズ・行間・コントラストを標準化

## エラーハンドリング／安心設計
- オフラインモード時：ヘッダーバナー＋各ステップに“今はローカル保存です”の案内
- 公開前の最終確認：差分要約＋チェック事項（画像の有無、公開日、カテゴリ）
- 失敗時の再試行ボタン／フォーム値保持／復帰ガイド

## ローンチ段階（段階的導入）
1. ダッシュボード刷新（やることリスト／大ボタン／インジケータ）
2. お知らせ作成ウィザード＋自動保存＋プレビュー
3. 施工実績ウィザード＋ギャラリーアップロード
4. 設定画面のカード化・説明文
5. ヘルプオーバーレイ（使い方）とガイドテキストの全体整備

## 成果物
- UI更新済みページ：dashboard、news、works、representatives、settings
- 共通レイアウト・UI部品（includes/components）
- 下書き保存・画像アップロードの安定動作（オンライン／オフライン）
- アクセシビリティ対応と日本語ラベル統一

## 確認事項（実装前）
- 画像アップロードでサービスロールキーを利用可能か（なければローカル保存を既定）
- 管理対象は現状の4種で十分か（追加要望があればウィザード拡張）

上記計画で進めて問題なければ、段階1から着手します。